<html
    xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>
<f:layout name="Widget/Widget" />
<f:section name="main">

    <div class="widget-table-wrapper">
        <table class="widget-table">
            <f:for each="{duplicates}" as="duplicate">
                <tr>
                    <td>
                        <f:format.raw>
                            <f:translate key="LLL:EXT:widget_mirror/Resources/Private/Language/backend.xlf:widgets.duplicatefiles.text" arguments="{0: duplicate.sha1, 1: duplicate.counting}" /><br />
                        </f:format.raw>
                        <small>
                            <f:for each="{duplicate.files}" as="duplicate">
                                <div style="margin-bottom: 5px;">
                                    <f:link.file
                                        file="{duplicate.file}"
                                        target="_blank"
                                        title="{f:translate(key: 'LLL:EXT:widget_mirror/Resources/Private/Language/backend.xlf:widgets.duplicatefiles.openOriginalFile')}"
                                    ><f:media file="{duplicate.file}" width="100c" height="50c"/></f:link.file>

                                    <f:be.link
                                        title="{f:translate(key: 'LLL:EXT:core/Resources/Private/Language/locallang_mod_web_list.xlf:showInfo')}"
                                        route="show_item"
                                        parameters="{table: '_FILE', uid: '{duplicate.file.storage.storageRecord.uid}:{duplicate.file.identifier}'}"
                                        target="_blank"
                                        class="btn btn-default btn-sm"
                                        >
                                        <core:icon identifier="actions-document-info" />
                                    </f:be.link>

                                    <f:be.link route="file_FilelistList" parameters="{id: duplicate.parentFolder}">
                                        <f:translate key="LLL:EXT:widget_mirror/Resources/Private/Language/backend.xlf:widgets.duplicatefiles.openFolder" />
                                    </f:be.link>

                                    <f:translate
                                        key="LLL:EXT:widget_mirror/Resources/Private/Language/backend.xlf:widgets.duplicatefiles.referenceCount"
                                        arguments="{0: duplicate.referenceCount}"
                                    />

                                    {duplicate.file.identifier}
                                </div>
                            </f:for>
                        </small>
                    </td>
                </tr>
            </f:for>
        </table>
    </div>

</f:section>
<f:section name="footer">

</f:section>
</html>
